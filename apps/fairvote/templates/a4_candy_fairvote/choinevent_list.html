{% load i18n %}
<style>
    .scrollable-list {
      max-height: 80%; /* Set a fixed height for the notification list */
      overflow-y: auto; /* Enable vertical scrolling */
      border: 1px solid #ccc; /* Add a border for styling */
      padding: 10px;
      max-width: 70%;
      margin-left: 15%;
      margin-right: 15%;
    }
  
    .event-card {
      border: 1px solid #ccc; /* Add a border for styling */
      padding: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Add a box shadow for a card effect */
      list-style: none; /* Remove default list styles */
      margin-bottom: 10px; /* Adjust the space between notifications */
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .event-info {
      /* Set the width for the left part of the card */
      max-width: 80%;
    }

    .event-actions {
      width: 20%; /* Set the width for the right part of the card */
      text-align: right;
    }
    .shift-left {
        margin-left: 10%;
    }
</style>
<div>
<h2 class="shift-left">{%trans 'Choin Events' %}</h2>

<div class="shift-left">
  <p>{% trans 'Contribution to your supported ideas' %}: {{ choinevent_list.user_paid|floatformat:0 }} {% trans 'Choins' %}</p>
  <p>{% trans 'Contribution to all ideas' %}: {{ choinevent_list.paid|floatformat:0 }} {% trans 'Choins' %} </p>
</div>
<div class="scrollable-list">
  <ul>
    {% for choinevent in choinevent_list %}
      <li class="event-card">
        <div class="event-info">
          <p>{{ choinevent.created_at }}</p>
          {% if choinevent.content_params %}
            {% if choinevent.type == 'NEW' %}
            <p><i class="fa fa-user-plus"></i>
              {% blocktrans with module=choinevent.module_name project=choinevent.project_name %}
              You joined module '{{ module }}' - project '{{ project }}'
              {% endblocktrans %}
            {% elif choinevent.type == 'ADD' %}
            <p><i class="fa fa-plus"></i>
              {% blocktrans with count=choinevent.user_count giveaway=choinevent.choins_per_user|floatformat:0 %}
              Choin Giveaway! All {{ count }} participants receive {{ giveaway }} choins.
              {% endblocktrans %}
            </p>
            {% elif choinevent.type == 'ACC' %}
              {% if choinevent.support %}
                <p><i class="fa fa-check" style="color: deepskyblue;"></i>
                  {% blocktrans with url=choinevent.idea_url name=choinevent.idea_name cost=choinevent.total_cost|floatformat:0 count=choinevent.supporters_count giveaway=choinevent.giveaway|floatformat:0 paid=choinevent.paid|floatformat:0 %}
                  Idea accepted! <a href={{url}}>{{ name }}</a>
                  cost {{ cost }} choins.<br/>It was funded by {{ count }} supporters.
                  <br/>
                  All participants received more {{ giveaway }} choins. You supported it and paid {{ paid }} choins.
                  {% endblocktrans %}
              {% else %}
              <p><i class="fa fa-check" style="color: crimson" ></i>
                {% blocktrans with url=choinevent.idea_url name=choinevent.idea_name cost=choinevent.total_cost|floatformat:0 count=choinevent.supporters_count giveaway=choinevent.giveaway|floatformat:0 %}
                Idea accepted! <a href={{url}}>{{ name }}</a>
                cost {{ cost }} choins.<br/>It was funded by {{ count }} supporters.
                <br/>
                You did not support it so you recieved more {{ giveaway }} choins as a compensation.
                {% endblocktrans %}
                {% endif %}
            </p>
              {% else %}
              <p><i class="fa fa-bell"></i></p>
              {% endif %}
            {% else %}
              {{choinevent.content | safe}}
            {% endif %}
        </div>
        <div class="event-actions">
          <p><i class="fa fa-wallet" aria-label="balance"></i> {%trans 'Your balance' %}: {{ choinevent.balance|floatformat:0  }}</p>
        </div>
      </li>
    {% endfor %}
  </ul>
</div>
</div>
